---
layout: post
title: "Stable Diffusion WebUI Docker ?„λ΅?νΈ κµ¬μ΅° ?μ„Έ ?¤λ…"
date: 2024-03-25 12:00:00 +0900
categories: [stable-diffusion]
tags: [docker, stable-diffusion, webui]
---

Stable Diffusion WebUI Docker ?„λ΅?νΈ κµ¬μ΅° ?μ„Έ ?¤λ…

![NVIDIA Logo](https://www.nvidia.com/content/dam/en-zz/Solutions/about-nvidia/logo-and-brand/01-nvidia-logo-vert-500x200-2c50-d@2x.png){: width="500" height="300"}

??λ¬Έμ„?μ„??Stable Diffusion WebUI Docker ?„λ΅?νΈ??λ¨λ“  ?΄λ”?€ ?μΌ???€???μ„Έ???¤λ…???κ³µ?©λ‹??

## 1. ?µμ‹¬ ?”λ ‰? λ¦¬ κµ¬μ΅°

### models/
Stable Diffusion λ¨λΈ ?μΌ?¤μ΄ ?€?¥λ???µμ‹¬ ?”λ ‰? λ¦¬?…λ‹??

#### models/Stable-diffusion/
- **μ²΄ν¬?¬μΈ??λ¨λΈ**: `.ckpt`, `.safetensors` ?•μ¥?λ? κ°€μ§?λ¨λΈ ?μΌ??
  - κΈ°λ³Έ λ¨λΈ: `v1-5-pruned.ckpt`, `v2-1_768-ema-pruned.safetensors` ??
  - μ»¤μ¤?€ λ¨λΈ: ?¬μ©?κ? μ¶”κ???μ²΄ν¬?¬μΈ???μΌ??
- **VAE λ¨λΈ**: `vae-ft-mse-840000.pt` ??VAE κ΄€???μΌ??
- **LoRA λ¨λΈ**: `.safetensors` ?•μ¥?λ? κ°€μ§?LoRA ?μΌ??
  - κ°?LoRA ?μΌ?€ ?Ήμ • ?¤ν??Όμ΄??κ°λ…???™μµ??λ¨λΈ

#### models/ControlNet/
- ControlNet λ¨λΈ ?μΌ??
- κ°?λ¨λΈ?€ ?Ήμ • ?μ–΄ κΈ°λ¥???΄λ‹Ή (?? pose, depth, canny ??

#### models/ESRGAN/
- ?΄λ?μ§€ ?…μ¤μΌ€?Όλ§???„ν• λ¨λΈ ?μΌ??
- `RealESRGAN_x4plus.pth` ??

### outputs/
?μ„±???΄λ?μ§€?€ κ΄€??λ©”ν??°μ΄?°κ? ?€?¥λ???”λ ‰? λ¦¬?…λ‹??

#### outputs/txt2img-images/
- ?μ¤?Έλ΅ ?΄λ?μ§€λ¥??μ„±??κ²°κ³Όλ¬?
- κ°??΄λ?μ§€?€ ?¨κ» ?μ„± ?λΌλ―Έν„°κ°€ ?¬ν•¨???μ¤???μΌ
- ?€?„μ¤?¬ν”„κ°€ ?¬ν•¨???΄λ” κµ¬μ΅°

#### outputs/img2img-images/
- ?΄λ?μ§€ λ³€??κ²°κ³Όλ¬?
- ?λ³Έ ?΄λ?μ§€?€ λ³€?λ ?΄λ?μ§€ ??
- λ³€???λΌλ―Έν„° ?•λ³΄

#### outputs/grids/
- κ·Έλ¦¬???•νƒλ΅??μ„±???΄λ?μ§€??
- ?¬λ¬ ?΄λ?μ§€λ¥???λ²μ— λΉ„κµ?????λ” κ²°κ³Όλ¬?

### extensions/
μ»¤μ¤?€ ?•μ¥ κΈ°λ¥?¤μ΄ ?€?¥λ???”λ ‰? λ¦¬?…λ‹??

#### extensions/installed/
- ?¤μΉ???•μ¥ κΈ°λ¥?¤μ ?μ¤ μ½”λ“
- κ°??•μ¥ κΈ°λ¥λ³??…λ¦½?μΈ ?”λ ‰? λ¦¬
- `requirements.txt`?€ `install.py` ?¬ν•¨

#### extensions/disabled/
- λΉ„ν™?±ν™”???•μ¥ κΈ°λ¥??
- ?„μ”???¤μ‹ ?μ„±??κ°€??

### repositories/
?Έλ? ?€?¥μ†?μ„ κ°€?Έμ¨ μ½”λ“?¤μ΄ ?€?¥λ???”λ ‰? λ¦¬?…λ‹??

#### repositories/stable-diffusion-stability-ai/
- Stable Diffusion???µμ‹¬ κµ¬ν„μ²?
- λ¨λΈ ?„ν‚¤?μ²?€ κ΄€??μ½”λ“

#### repositories/CodeFormer/
- ?Όκµ΄ λ³µμ›???„ν• μ½”λ“
- λ¨λΈ κ°€μ¤‘μΉ?€ κµ¬ν„μ²?

## 2. ?¤μ • λ°??¤ν¬λ¦½νΈ ?”λ ‰? λ¦¬

### configs/
?¤μ • ?μΌ?¤μ΄ ?€?¥λ???”λ ‰? λ¦¬?…λ‹??

#### configs/v1-inference.yaml
- v1 λ¨λΈ??κΈ°λ³Έ ?¤μ •
- λ¨λΈ ?„ν‚¤?μ² ?λΌλ―Έν„°

#### configs/v2-inference.yaml
- v2 λ¨λΈ??κΈ°λ³Έ ?¤μ •
- κ³ ν•΄?λ„ ?μ„± κ΄€???¤μ •

### scripts/
?¤ν–‰ ?¤ν¬λ¦½νΈ?¤μ΄ ?€?¥λ???”λ ‰? λ¦¬?…λ‹??

#### scripts/onload/
- ?ΉUI ?μ‘ ???λ™?Όλ΅ ?¤ν–‰?λ” ?¤ν¬λ¦½νΈ
- μ΄κΈ° ?¤μ • λ°??κ²½ κµ¬μ„±

#### scripts/postprocessing/
- ?΄λ?μ§€ ?„μ²λ¦?κ΄€???¤ν¬λ¦½νΈ
- ?…μ¤μΌ€?Όλ§, ?„ν„°λ§???

### localizations/
?¤κµ­??μ§€?μ„ ?„ν• λ²μ—­ ?μΌ?¤μ΄ ?€?¥λ???”λ ‰? λ¦¬?…λ‹??

#### localizations/ko.json
- ?κµ­??λ²μ—­ ?μΌ
- UI ?”μ†?¤μ λ²μ—­

#### localizations/en.json
- ?μ–΄ λ²μ—­ ?μΌ
- κΈ°λ³Έ ?Έμ–΄ ?¤μ •

## 3. ???Έν„°?μ΄??κ΄€???”λ ‰? λ¦¬

### html/
???Έν„°?μ΄?¤μ HTML ?μΌ?¤μ΄ ?€?¥λ???”λ ‰? λ¦¬?…λ‹??

#### html/index.html
- λ©”μΈ ???Έν„°?μ΄??
- UI ?μ΄?„μ›ƒ ?•μ

#### html/extra-networks.html
- μ¶”κ? ?¤νΈ?ν¬ ? νƒ ?Έν„°?μ΄??
- LoRA, ?„λ² ????? νƒ UI

### javascript/
???Έν„°?μ΄?¤μ JavaScript ?μΌ?¤μ΄ ?€?¥λ???”λ ‰? λ¦¬?…λ‹??

#### javascript/ui.js
- UI ?νΈ?‘μ© μ²λ¦¬
- ?΄λ²¤???Έλ“¤??

#### javascript/imageviewer.js
- ?΄λ?μ§€ λ·°μ–΄ κΈ°λ¥
- ?•λ?/μ¶•μ†, ?μ „ ??

## 4. μ£Όμ” ?¤μ • ?μΌ

### Dockerfile
Docker ?΄λ?μ§€ λΉλ“λ¥??„ν• ?¤μ • ?μΌ?…λ‹??
- κΈ°λ³Έ ?΄λ?μ§€ ?¤μ •
- ?μ΅΄???¤μΉ λ…λ Ή
- ?κ²½ λ³€???¤μ •
- ?‘μ—… ?”λ ‰? λ¦¬ ?¤μ •

### docker-compose.yml
Docker μ»¨ν…?΄λ„ ?¤ν–‰???„ν• ?¤μ • ?μΌ?…λ‹??
- ?λΉ„???•μ
- λ³Όλ¥¨ λ§μ΄???¤μ •
- ?¬νΈ λ§¤ν•‘
- ?κ²½ λ³€???¤μ •

### requirements.txt
Python ?¨ν‚¤μ§€ ?μ΅΄??λ©λ΅?…λ‹??
- ?µμ‹¬ ?Όμ΄λΈλ¬λ¦?λ²„μ „
- ? νƒ???μ΅΄??
- ?Έν™???•λ³΄

### webui.py
?ΉUI ?¤ν–‰???„ν• λ©”μΈ Python ?¤ν¬λ¦½νΈ?…λ‹??
- ?λ²„ μ΄κΈ°??
- λ¨λΈ λ΅λ”©
- API ?”λ“?¬μΈ???•μ
- ?¤μ • κ΄€λ¦?

## 5. ?¤ν–‰ ?¤ν¬λ¦½νΈ

### webui.sh
Linux/macOS???¤ν–‰ ?¤ν¬λ¦½νΈ?…λ‹??
- ?κ²½ λ³€???¤μ •
- ?μ΅΄???•μΈ
- Python κ°€?ν™κ²??¤μ •
- ?λ²„ ?μ‘

### webui.bat
Windows???¤ν–‰ ?¤ν¬λ¦½νΈ?…λ‹??
- Windows ?κ²½ ?¤μ •
- κ²½λ΅ ?¤μ •
- ?λΉ„???μ‘

### webui-macos-env.sh
macOS ?κ²½ ?¤μ • ?¤ν¬λ¦½νΈ?…λ‹??
- macOS ?Ήν™” ?¤μ •
- M1/M2 μΉ?μ§€??
- ?κ²½ λ³€???¤μ •