<!DOCTYPE html>
<html lang="en">

<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="stylesheet" href="/infra-blog/assets/css/style.css">
<link rel="stylesheet" href="/infra-blog/assets/css/post-detail.css">
<style>
/* Post Detail Page Styling */
.post-container article {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  padding: 40px;
  margin: 30px auto;
  max-width: 800px;
}

@media screen and (max-width: 768px) {
  .post-container article {
    margin: 20px;
    padding: 25px;
    border-radius: 8px;
  }
}

.post-container article .post-header {
  border-bottom: 2px solid #f5f5f5;
  padding-bottom: 25px;
  margin-bottom: 30px;
}

.post-container article .post-header .post-title {
  font-size: 2.2em;
  font-weight: 700;
  color: #2c3e50;
  line-height: 1.3;
  margin-bottom: 15px;
}

@media screen and (max-width: 768px) {
  .post-container article .post-header .post-title {
    font-size: 1.8em;
  }
}

.post-container article .post-header .post-meta {
  display: flex;
  align-items: center;
  gap: 20px;
  flex-wrap: wrap;
}

.post-container article .post-header .post-meta .post-date {
  display: flex;
  align-items: center;
  color: #666;
  font-size: 0.9em;
}

.post-container article .post-header .post-meta .post-date i {
  margin-right: 8px;
  color: #888;
}

.post-container article .post-header .post-meta .post-categories-wrapper {
  display: flex;
  align-items: center;
}

.post-container article .post-header .post-meta .post-categories-wrapper i {
  margin-right: 8px;
  color: #888;
}

.post-container article .post-header .post-meta .post-categories-wrapper .post-categories {
  display: flex;
  gap: 8px;
  list-style: none;
  margin: 0;
  padding: 0;
}

.post-container article .post-header .post-meta .post-categories-wrapper .post-categories li {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.8em;
  font-weight: 500;
  text-transform: capitalize;
}

.post-container article .post-content {
  font-size: 1.1em;
  line-height: 1.8;
  color: #333;
}

.post-container article .post-content p {
  margin-bottom: 1.2em;
}

.post-container article .post-content h1,
.post-container article .post-content h2,
.post-container article .post-content h3,
.post-container article .post-content h4,
.post-container article .post-content h5,
.post-container article .post-content h6 {
  color: #2c3e50;
  margin: 1.5em 0 0.8em 0;
  font-weight: 600;
}

.post-container article .post-content h2 {
  font-size: 1.8em;
  border-bottom: 2px solid #3498db;
  padding-bottom: 10px;
}

.post-container article .post-content h3 {
  font-size: 1.5em;
  color: #34495e;
}

.post-container article .post-content code {
  background: #f8f9fa;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.9em;
  color: #e74c3c;
}

.post-container article .post-content pre {
  background: #f8f9fa;
  border: 1px solid #e9ecef;
  border-radius: 6px;
  padding: 15px;
  overflow-x: auto;
  margin: 1.5em 0;
}

.post-container article .post-content pre code {
  background: none;
  color: #333;
  padding: 0;
}

.post-container article .post-content blockquote {
  border-left: 4px solid #3498db;
  background: #f8f9fa;
  padding: 15px 20px;
  margin: 1.5em 0;
  font-style: italic;
  color: #555;
}

.post-container article .post-content img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 1.5em 0;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.post-container article .post-content ul,
.post-container article .post-content ol {
  padding-left: 1.5em;
  margin-bottom: 1.2em;
}

.post-container article .post-content ul li,
.post-container article .post-content ol li {
  margin-bottom: 0.5em;
}

.post-container article .post-content a {
  color: #3498db;
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: all 0.3s ease;
}

.post-container article .post-content a:hover {
  border-bottom-color: #3498db;
}

.post-container article .post-footer {
  border-top: 2px solid #f5f5f5;
  padding-top: 25px;
  margin-top: 40px;
}

.post-container article .post-footer .post-navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 20px;
}

@media screen and (max-width: 768px) {
  .post-container article .post-footer .post-navigation {
    flex-direction: column;
    gap: 15px;
  }
}

.post-container article .post-footer .post-navigation .nav-previous,
.post-container article .post-footer .post-navigation .nav-next {
  flex: 1;
}

.post-container article .post-footer .post-navigation .nav-previous a,
.post-container article .post-footer .post-navigation .nav-next a {
  display: flex;
  align-items: center;
  padding: 15px 20px;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.post-container article .post-footer .post-navigation .nav-previous a:hover,
.post-container article .post-footer .post-navigation .nav-next a:hover {
  background: #e9ecef;
  border-color: #3498db;
  transform: translateY(-2px);
}

.post-container article .post-footer .post-navigation .nav-previous a i,
.post-container article .post-footer .post-navigation .nav-next a i {
  color: #3498db;
  margin: 0 8px;
}

.post-container article .post-footer .post-navigation .nav-previous a .nav-title,
.post-container article .post-footer .post-navigation .nav-next a .nav-title {
  font-weight: 500;
}

.post-container article .post-footer .post-navigation .nav-previous a {
  justify-content: flex-start;
}

.post-container article .post-footer .post-navigation .nav-next a {
  justify-content: flex-end;
  text-align: right;
}
</style>
<title>AWS ì™„ì „ ì •ë³µ ê°€ì´ë“œ 3í¸ - ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ì™€ Lambda ë§ˆìŠ¤í„° | AWS Complete Guide Part 3 - Serverless Architecture & Lambda Mastery</title>

<script type="text/javascript" src="/infra-blog/assets/js/darkmode.js"></script>

</head><body>
  <main class="container">
    <section class="about">
      <div class="about-header condensed">
      <div class="about-title">
      <a href="/infra-blog/">
        
        <img src="/infra-blog/assets/portfolio.png" alt="Infrastructure Engineer" />
        
      </a>
      <h2 id="title">
        <a href="/infra-blog/">Infrastructure Engineer</a>
      </h2>
      </div><p class="tagline">DevOps & Cloud Infrastructure Specialist</p></div>
      
      <ul class="social about-footer condensed"><a href="https://github.com/leeyonghe" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://www.linkedin.com/in/lee-yong-hee-18912454/" target="_blank">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><!----></ul><p class="about-footer condensed">&copy;
        2025</p><div class="about-footer condensed">
        <p>Dark Mode
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" class="dark-mode-toggle">
            <span class="slider round" onclick="toggleDarkMode()"></span>
          </label>
        </p>
      </div>
    </section>
    <section class="content">
      <style>
/* Post Detail Page Styling - Direct Inline */
.post-container article {
  background: #fff !important;
  border: none !important;
  border-top: none !important;
  border-right: none !important;
  border-bottom: none !important;
  border-left: none !important;
  border-width: 0 !important;
  border-style: none !important;
  outline: none !important;
  border-radius: 12px !important;
  box-shadow: none !important;
  padding: 40px !important;
  margin: 30px auto !important;
  max-width: 800px !important;
}

.post-container article .post-header .post-title {
  font-size: 2.2em !important;
  font-weight: 700 !important;
  color: #2c3e50 !important;
  line-height: 1.3 !important;
}

.post-container article .post-header {
  border-bottom: none !important;
  padding-bottom: 25px !important;
  margin-bottom: 30px !important;
}

.post-container article .post-content {
  font-size: 1.1em !important;
  line-height: 1.8 !important;
  color: #333 !important;
}

.post-container article .post-content h2 {
  font-size: 1.8em !important;
  border-bottom: none !important;
  padding-bottom: 10px !important;
  color: #2c3e50 !important;
}

.post-container article .post-header .post-meta .post-categories li {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  color: white !important;
  padding: 4px 12px !important;
  border-radius: 20px !important;
  font-size: 0.8em !important;
  list-style: none !important;
  display: inline-block !important;
  margin-right: 8px !important;
}

.post-container article .post-footer {
  border-top: none !important;
  padding-top: 25px !important;
  margin-top: 40px !important;
}

/* ëª¨ë“  borderì™€ box-shadow ê°•ì œ ì œê±° */
.post-container article *,
.post-container article *::before,
.post-container article *::after {
  border: none !important;
  border-top: none !important;
  border-right: none !important;
  border-bottom: none !important;
  border-left: none !important;
  border-width: 0 !important;
  border-style: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* ì½”ë“œ ë¸”ë¡ê³¼ pre íƒœê·¸ë„ border, box-shadow ì œê±° */
.post-container article pre,
.post-container article code,
.post-container article .highlight,
.post-container article .highlighter-rouge {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}
</style><div class="post-container">
  <article>
    <header class="post-header">
    <h1 class="post-title">AWS ì™„ì „ ì •ë³µ ê°€ì´ë“œ 3í¸ - ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ì™€ Lambda ë§ˆìŠ¤í„° | AWS Complete Guide Part 3 - Serverless Architecture &amp; Lambda Mastery</h1>
    <div class="post-meta">
      <div class="post-date">
        <i class="icon-calendar"></i>
        <time datetime="2024-03-25T05:00:00+00:00">Mar 25, 2024</time>
      </div><div class="post-categories-wrapper">
        <i class="icon-tag"></i>
        <ul class="post-categories"><li>AWS</li><li>Cloud</li></ul>
      </div></div>
  </header>

  <div class="post-content">
    <p>AWS ì„œë²„ë¦¬ìŠ¤ ìƒíƒœê³„ë¥¼ ì™„ì „íˆ ë§ˆìŠ¤í„°í•´ë³´ê² ìŠµë‹ˆë‹¤. Lambdaë¶€í„° API Gateway, DynamoDB, CloudFormationê¹Œì§€ í˜„ëŒ€ì ì¸ ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ êµ¬ì¶•ì˜ ëª¨ë“  ê²ƒì„ ë‹¤ë£¹ë‹ˆë‹¤.</p>

<h2 id="ì„œë²„ë¦¬ìŠ¤-ì•„í‚¤í…ì²˜-ê°œìš”--serverless-architecture-overview">ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ ê°œìš” | Serverless Architecture Overview</h2>

<h3 id="-ì„œë²„ë¦¬ìŠ¤ì˜-ì´í•´">ğŸš€ ì„œë²„ë¦¬ìŠ¤ì˜ ì´í•´</h3>

<h4 id="ì„œë²„ë¦¬ìŠ¤-ì»´í“¨íŒ…ì˜-ì¥ì ">ì„œë²„ë¦¬ìŠ¤ ì»´í“¨íŒ…ì˜ ì¥ì </h4>
<ul>
  <li><strong>ìë™ ìŠ¤ì¼€ì¼ë§</strong>: íŠ¸ë˜í”½ì— ë”°ë¥¸ ìë™ í™•ì¥/ì¶•ì†Œ</li>
  <li><strong>ë¹„ìš© íš¨ìœ¨ì„±</strong>: ì‹¤í–‰ ì‹œê°„ì— ëŒ€í•´ì„œë§Œ ê³¼ê¸ˆ</li>
  <li><strong>ìš´ì˜ ë¶€ë‹´ ê°ì†Œ</strong>: ì„œë²„ ê´€ë¦¬ ë¶ˆí•„ìš”</li>
  <li><strong>ë¹ ë¥¸ ê°œë°œ</strong>: ì¸í”„ë¼ë³´ë‹¤ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘</li>
</ul>

<h4 id="aws-ì„œë²„ë¦¬ìŠ¤-ì„œë¹„ìŠ¤-ìŠ¤íƒ">AWS ì„œë²„ë¦¬ìŠ¤ ì„œë¹„ìŠ¤ ìŠ¤íƒ</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>í”„ë¡ íŠ¸ì—”ë“œ: S3 + CloudFront
API ê³„ì¸µ: API Gateway
ì»´í“¨íŒ…: Lambda Functions
ë°ì´í„°: DynamoDB, S3
ì¸ì¦: Cognito
ëª¨ë‹ˆí„°ë§: CloudWatch, X-Ray
ë°°í¬: CloudFormation, SAM
</code></pre></div></div>

<h2 id="lambda-ì™„ì „-ë§ˆìŠ¤í„°--complete-lambda-mastery">Lambda ì™„ì „ ë§ˆìŠ¤í„° | Complete Lambda Mastery</h2>

<h3 id="-lambda-í•¨ìˆ˜-ê°œë°œ-ë°-ê´€ë¦¬">âš¡ Lambda í•¨ìˆ˜ ê°œë°œ ë° ê´€ë¦¬</h3>

<h4 id="lambda-í•¨ìˆ˜-ìƒì„±-ë°-ë°°í¬-python">Lambda í•¨ìˆ˜ ìƒì„± ë° ë°°í¬ (Python)</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># lambda_function.py
# ì¢…í•©ì ì¸ Lambda í•¨ìˆ˜ ì˜ˆì œ
</span>
<span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">boto3</span>
<span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">logging</span>
<span class="kn">from</span> <span class="n">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="n">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<span class="kn">import</span> <span class="n">uuid</span>

<span class="c1"># ë¡œê¹… ì„¤ì •
</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="nf">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="p">.</span><span class="nf">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="p">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="c1"># AWS ì„œë¹„ìŠ¤ í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
</span><span class="n">dynamodb</span> <span class="o">=</span> <span class="n">boto3</span><span class="p">.</span><span class="nf">resource</span><span class="p">(</span><span class="sh">'</span><span class="s">dynamodb</span><span class="sh">'</span><span class="p">)</span>
<span class="n">s3</span> <span class="o">=</span> <span class="n">boto3</span><span class="p">.</span><span class="nf">client</span><span class="p">(</span><span class="sh">'</span><span class="s">s3</span><span class="sh">'</span><span class="p">)</span>
<span class="n">ses</span> <span class="o">=</span> <span class="n">boto3</span><span class="p">.</span><span class="nf">client</span><span class="p">(</span><span class="sh">'</span><span class="s">ses</span><span class="sh">'</span><span class="p">)</span>
<span class="n">sns</span> <span class="o">=</span> <span class="n">boto3</span><span class="p">.</span><span class="nf">client</span><span class="p">(</span><span class="sh">'</span><span class="s">sns</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># í™˜ê²½ ë³€ìˆ˜
</span><span class="n">TABLE_NAME</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="sh">'</span><span class="s">DYNAMODB_TABLE</span><span class="sh">'</span><span class="p">]</span>
<span class="n">BUCKET_NAME</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="sh">'</span><span class="s">S3_BUCKET</span><span class="sh">'</span><span class="p">]</span>
<span class="n">SNS_TOPIC_ARN</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">environ</span><span class="p">[</span><span class="sh">'</span><span class="s">SNS_TOPIC_ARN</span><span class="sh">'</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">DecimalEncoder</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">JSONEncoder</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">DynamoDB Decimal íƒ€ì…ì„ JSONìœ¼ë¡œ ë³€í™˜</span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">):</span>
            <span class="k">return</span> <span class="nf">float</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="nf">super</span><span class="p">(</span><span class="n">DecimalEncoder</span><span class="p">,</span> <span class="n">self</span><span class="p">).</span><span class="nf">default</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">lambda_handler</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ë©”ì¸ Lambda í•¸ë“¤ëŸ¬</span><span class="sh">"""</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># ìš”ì²­ ë¡œê¹…
</span>        <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Event: </span><span class="si">{</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="c1"># HTTP ë©”ì„œë“œë³„ ì²˜ë¦¬
</span>        <span class="n">http_method</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">httpMethod</span><span class="sh">'</span><span class="p">,</span> <span class="sh">''</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">path</span><span class="sh">'</span><span class="p">,</span> <span class="sh">''</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">http_method</span> <span class="o">==</span> <span class="sh">'</span><span class="s">GET</span><span class="sh">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">handle_get_request</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">http_method</span> <span class="o">==</span> <span class="sh">'</span><span class="s">POST</span><span class="sh">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">handle_post_request</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">http_method</span> <span class="o">==</span> <span class="sh">'</span><span class="s">PUT</span><span class="sh">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">handle_put_request</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">http_method</span> <span class="o">==</span> <span class="sh">'</span><span class="s">DELETE</span><span class="sh">'</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">handle_delete_request</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">405</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Method not allowed</span><span class="sh">'</span><span class="p">})</span>
            
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Error processing request: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Internal server error</span><span class="sh">'</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">handle_get_request</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">GET ìš”ì²­ ì²˜ë¦¬</span><span class="sh">"""</span>
    
    <span class="n">path_parameters</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">pathParameters</span><span class="sh">'</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">query_parameters</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">queryStringParameters</span><span class="sh">'</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
    
    <span class="c1"># ë‹¨ì¼ ì•„ì´í…œ ì¡°íšŒ
</span>    <span class="k">if</span> <span class="sh">'</span><span class="s">id</span><span class="sh">'</span> <span class="ow">in</span> <span class="n">path_parameters</span><span class="p">:</span>
        <span class="k">return</span> <span class="nf">get_item_by_id</span><span class="p">(</span><span class="n">path_parameters</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">])</span>
    
    <span class="c1"># ëª©ë¡ ì¡°íšŒ
</span>    <span class="k">return</span> <span class="nf">get_items_list</span><span class="p">(</span><span class="n">query_parameters</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">handle_post_request</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">POST ìš”ì²­ ì²˜ë¦¬ - ìƒˆ ì•„ì´í…œ ìƒì„±</span><span class="sh">"""</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">body</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">{}</span><span class="sh">'</span><span class="p">))</span>
        
        <span class="c1"># í•„ìˆ˜ í•„ë“œ ê²€ì¦
</span>        <span class="n">required_fields</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">email</span><span class="sh">'</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">required_fields</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">body</span><span class="p">:</span>
                <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sa">f</span><span class="sh">'</span><span class="s">Missing required field: </span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="sh">'</span><span class="p">})</span>
        
        <span class="c1"># ìƒˆ ì•„ì´í…œ ìƒì„±
</span>        <span class="n">item_id</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">uuid</span><span class="p">.</span><span class="nf">uuid4</span><span class="p">())</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="nf">utcnow</span><span class="p">().</span><span class="nf">isoformat</span><span class="p">()</span>
        
        <span class="n">item</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="n">item_id</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">:</span> <span class="n">body</span><span class="p">[</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">],</span>
            <span class="sh">'</span><span class="s">email</span><span class="sh">'</span><span class="p">:</span> <span class="n">body</span><span class="p">[</span><span class="sh">'</span><span class="s">email</span><span class="sh">'</span><span class="p">],</span>
            <span class="sh">'</span><span class="s">description</span><span class="sh">'</span><span class="p">:</span> <span class="n">body</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">description</span><span class="sh">'</span><span class="p">,</span> <span class="sh">''</span><span class="p">),</span>
            <span class="sh">'</span><span class="s">created_at</span><span class="sh">'</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">updated_at</span><span class="sh">'</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">status</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">active</span><span class="sh">'</span>
        <span class="p">}</span>
        
        <span class="c1"># DynamoDBì— ì €ì¥
</span>        <span class="n">table</span> <span class="o">=</span> <span class="n">dynamodb</span><span class="p">.</span><span class="nc">Table</span><span class="p">(</span><span class="n">TABLE_NAME</span><span class="p">)</span>
        <span class="n">table</span><span class="p">.</span><span class="nf">put_item</span><span class="p">(</span><span class="n">Item</span><span class="o">=</span><span class="n">item</span><span class="p">)</span>
        
        <span class="c1"># ì•Œë¦¼ ë°œì†¡
</span>        <span class="nf">send_notification</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">New item created: </span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="c1"># S3ì— ë°±ì—… (ì„ íƒì‚¬í•­)
</span>        <span class="nf">backup_to_s3</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        
        <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Created item with ID: </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        
    <span class="k">except</span> <span class="n">json</span><span class="p">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Invalid JSON in request body</span><span class="sh">'</span><span class="p">})</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Error creating item: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Failed to create item</span><span class="sh">'</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">handle_put_request</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">PUT ìš”ì²­ ì²˜ë¦¬ - ì•„ì´í…œ ì—…ë°ì´íŠ¸</span><span class="sh">"""</span>
    
    <span class="n">path_parameters</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">pathParameters</span><span class="sh">'</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
    
    <span class="k">if</span> <span class="sh">'</span><span class="s">id</span><span class="sh">'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">path_parameters</span><span class="p">:</span>
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Missing item ID</span><span class="sh">'</span><span class="p">})</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">body</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">{}</span><span class="sh">'</span><span class="p">))</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">path_parameters</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span>
        
        <span class="n">table</span> <span class="o">=</span> <span class="n">dynamodb</span><span class="p">.</span><span class="nc">Table</span><span class="p">(</span><span class="n">TABLE_NAME</span><span class="p">)</span>
        
        <span class="c1"># ì•„ì´í…œ ì¡´ì¬ í™•ì¸
</span>        <span class="n">response</span> <span class="o">=</span> <span class="n">table</span><span class="p">.</span><span class="nf">get_item</span><span class="p">(</span><span class="n">Key</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="n">item_id</span><span class="p">})</span>
        <span class="k">if</span> <span class="sh">'</span><span class="s">Item</span><span class="sh">'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Item not found</span><span class="sh">'</span><span class="p">})</span>
        
        <span class="c1"># ì—…ë°ì´íŠ¸ í‘œí˜„ì‹ êµ¬ì„±
</span>        <span class="n">update_expression</span> <span class="o">=</span> <span class="sh">"</span><span class="s">SET updated_at = :timestamp</span><span class="sh">"</span>
        <span class="n">expression_values</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">:timestamp</span><span class="sh">'</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="nf">utcnow</span><span class="p">().</span><span class="nf">isoformat</span><span class="p">()}</span>
        
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">body</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">created_at</span><span class="sh">'</span><span class="p">]:</span>  <span class="c1"># ë³€ê²½ ë¶ˆê°€ í•„ë“œ ì œì™¸
</span>                <span class="n">update_expression</span> <span class="o">+=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">, </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s"> = :</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span>
                <span class="n">expression_values</span><span class="p">[</span><span class="sa">f</span><span class="sh">"</span><span class="s">:</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        
        <span class="c1"># ì•„ì´í…œ ì—…ë°ì´íŠ¸
</span>        <span class="n">response</span> <span class="o">=</span> <span class="n">table</span><span class="p">.</span><span class="nf">update_item</span><span class="p">(</span>
            <span class="n">Key</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="n">item_id</span><span class="p">},</span>
            <span class="n">UpdateExpression</span><span class="o">=</span><span class="n">update_expression</span><span class="p">,</span>
            <span class="n">ExpressionAttributeValues</span><span class="o">=</span><span class="n">expression_values</span><span class="p">,</span>
            <span class="n">ReturnValues</span><span class="o">=</span><span class="sh">'</span><span class="s">ALL_NEW</span><span class="sh">'</span>
        <span class="p">)</span>
        
        <span class="n">updated_item</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">Attributes</span><span class="sh">'</span><span class="p">]</span>
        
        <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Updated item: </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="n">updated_item</span><span class="p">)</span>
        
    <span class="k">except</span> <span class="n">json</span><span class="p">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Invalid JSON in request body</span><span class="sh">'</span><span class="p">})</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Error updating item: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Failed to update item</span><span class="sh">'</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">handle_delete_request</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">DELETE ìš”ì²­ ì²˜ë¦¬ - ì•„ì´í…œ ì‚­ì œ</span><span class="sh">"""</span>
    
    <span class="n">path_parameters</span> <span class="o">=</span> <span class="n">event</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">pathParameters</span><span class="sh">'</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
    
    <span class="k">if</span> <span class="sh">'</span><span class="s">id</span><span class="sh">'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">path_parameters</span><span class="p">:</span>
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Missing item ID</span><span class="sh">'</span><span class="p">})</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">path_parameters</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">dynamodb</span><span class="p">.</span><span class="nc">Table</span><span class="p">(</span><span class="n">TABLE_NAME</span><span class="p">)</span>
        
        <span class="c1"># ì•„ì´í…œ ì¡´ì¬ í™•ì¸
</span>        <span class="n">response</span> <span class="o">=</span> <span class="n">table</span><span class="p">.</span><span class="nf">get_item</span><span class="p">(</span><span class="n">Key</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="n">item_id</span><span class="p">})</span>
        <span class="k">if</span> <span class="sh">'</span><span class="s">Item</span><span class="sh">'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Item not found</span><span class="sh">'</span><span class="p">})</span>
        
        <span class="c1"># ì•„ì´í…œ ì‚­ì œ
</span>        <span class="n">table</span><span class="p">.</span><span class="nf">delete_item</span><span class="p">(</span><span class="n">Key</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="n">item_id</span><span class="p">})</span>
        
        <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Deleted item: </span><span class="si">{</span><span class="n">item_id</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">message</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Item deleted successfully</span><span class="sh">'</span><span class="p">})</span>
        
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Error deleting item: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Failed to delete item</span><span class="sh">'</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">get_item_by_id</span><span class="p">(</span><span class="n">item_id</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">IDë¡œ ë‹¨ì¼ ì•„ì´í…œ ì¡°íšŒ</span><span class="sh">"""</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">dynamodb</span><span class="p">.</span><span class="nc">Table</span><span class="p">(</span><span class="n">TABLE_NAME</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">table</span><span class="p">.</span><span class="nf">get_item</span><span class="p">(</span><span class="n">Key</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="n">item_id</span><span class="p">})</span>
        
        <span class="k">if</span> <span class="sh">'</span><span class="s">Item</span><span class="sh">'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">404</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Item not found</span><span class="sh">'</span><span class="p">})</span>
        
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">Item</span><span class="sh">'</span><span class="p">])</span>
        
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Error getting item: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Failed to get item</span><span class="sh">'</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">get_items_list</span><span class="p">(</span><span class="n">query_parameters</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ì•„ì´í…œ ëª©ë¡ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜ ì§€ì›)</span><span class="sh">"""</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">dynamodb</span><span class="p">.</span><span class="nc">Table</span><span class="p">(</span><span class="n">TABLE_NAME</span><span class="p">)</span>
        
        <span class="c1"># í˜ì´ì§€ë„¤ì´ì…˜ íŒŒë¼ë¯¸í„°
</span>        <span class="n">limit</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">query_parameters</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">limit</span><span class="sh">'</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
        <span class="n">last_key</span> <span class="o">=</span> <span class="n">query_parameters</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">last_key</span><span class="sh">'</span><span class="p">)</span>
        
        <span class="n">scan_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">Limit</span><span class="sh">'</span><span class="p">:</span> <span class="n">limit</span><span class="p">}</span>
        
        <span class="k">if</span> <span class="n">last_key</span><span class="p">:</span>
            <span class="n">scan_kwargs</span><span class="p">[</span><span class="sh">'</span><span class="s">ExclusiveStartKey</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="n">last_key</span><span class="p">}</span>
        
        <span class="n">response</span> <span class="o">=</span> <span class="n">table</span><span class="p">.</span><span class="nf">scan</span><span class="p">(</span><span class="o">**</span><span class="n">scan_kwargs</span><span class="p">)</span>
        
        <span class="n">result</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">items</span><span class="sh">'</span><span class="p">:</span> <span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">Items</span><span class="sh">'</span><span class="p">],</span>
            <span class="sh">'</span><span class="s">count</span><span class="sh">'</span><span class="p">:</span> <span class="nf">len</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">Items</span><span class="sh">'</span><span class="p">])</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="sh">'</span><span class="s">LastEvaluatedKey</span><span class="sh">'</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="sh">'</span><span class="s">last_key</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">LastEvaluatedKey</span><span class="sh">'</span><span class="p">][</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span>
        
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Error getting items list: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="nf">create_response</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="p">{</span><span class="sh">'</span><span class="s">error</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Failed to get items list</span><span class="sh">'</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">send_notification</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">SNSë¥¼ í†µí•œ ì•Œë¦¼ ë°œì†¡</span><span class="sh">"""</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sns</span><span class="p">.</span><span class="nf">publish</span><span class="p">(</span>
            <span class="n">TopicArn</span><span class="o">=</span><span class="n">SNS_TOPIC_ARN</span><span class="p">,</span>
            <span class="n">Message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span>
            <span class="n">Subject</span><span class="o">=</span><span class="sh">'</span><span class="s">Lambda Function Notification</span><span class="sh">'</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Notification sent: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Failed to send notification: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">backup_to_s3</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">S3ì— ì•„ì´í…œ ë°±ì—…</span><span class="sh">"""</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">backup_key</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">backups/</span><span class="si">{</span><span class="n">datetime</span><span class="p">.</span><span class="nf">utcnow</span><span class="p">().</span><span class="nf">strftime</span><span class="p">(</span><span class="sh">'</span><span class="s">%Y/%m/%d</span><span class="sh">'</span><span class="p">)</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="s">.json</span><span class="sh">"</span>
        
        <span class="n">s3</span><span class="p">.</span><span class="nf">put_object</span><span class="p">(</span>
            <span class="n">Bucket</span><span class="o">=</span><span class="n">BUCKET_NAME</span><span class="p">,</span>
            <span class="n">Key</span><span class="o">=</span><span class="n">backup_key</span><span class="p">,</span>
            <span class="n">Body</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">cls</span><span class="o">=</span><span class="n">DecimalEncoder</span><span class="p">),</span>
            <span class="n">ContentType</span><span class="o">=</span><span class="sh">'</span><span class="s">application/json</span><span class="sh">'</span>
        <span class="p">)</span>
        
        <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Item backed up to S3: </span><span class="si">{</span><span class="n">backup_key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Failed to backup to S3: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">create_response</span><span class="p">(</span><span class="n">status_code</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">HTTP ì‘ë‹µ ìƒì„±</span><span class="sh">"""</span>
    
    <span class="k">return</span> <span class="p">{</span>
        <span class="sh">'</span><span class="s">statusCode</span><span class="sh">'</span><span class="p">:</span> <span class="n">status_code</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">headers</span><span class="sh">'</span><span class="p">:</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">Content-Type</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">application/json</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">Access-Control-Allow-Origin</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">*</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">Access-Control-Allow-Headers</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">Access-Control-Allow-Methods</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">GET,POST,PUT,DELETE,OPTIONS</span><span class="sh">'</span>
        <span class="p">},</span>
        <span class="sh">'</span><span class="s">body</span><span class="sh">'</span><span class="p">:</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">cls</span><span class="o">=</span><span class="n">DecimalEncoder</span><span class="p">)</span>
    <span class="p">}</span>

<span class="c1"># ì¶”ê°€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
</span>
<span class="k">def</span> <span class="nf">validate_email</span><span class="p">(</span><span class="n">email</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ì´ë©”ì¼ ì£¼ì†Œ ìœ íš¨ì„± ê²€ì¦</span><span class="sh">"""</span>
    <span class="kn">import</span> <span class="n">re</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="sh">'</span><span class="s">^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$</span><span class="sh">'</span>
    <span class="k">return</span> <span class="n">re</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">email</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">generate_presigned_url</span><span class="p">(</span><span class="n">bucket</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">expiration</span><span class="o">=</span><span class="mi">3600</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">S3 ê°ì²´ìš© ì‚¬ì „ ì„œëª…ëœ URL ìƒì„±</span><span class="sh">"""</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">s3</span><span class="p">.</span><span class="nf">generate_presigned_url</span><span class="p">(</span>
            <span class="sh">'</span><span class="s">get_object</span><span class="sh">'</span><span class="p">,</span>
            <span class="n">Params</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">Bucket</span><span class="sh">'</span><span class="p">:</span> <span class="n">bucket</span><span class="p">,</span> <span class="sh">'</span><span class="s">Key</span><span class="sh">'</span><span class="p">:</span> <span class="n">key</span><span class="p">},</span>
            <span class="n">ExpiresIn</span><span class="o">=</span><span class="n">expiration</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Error generating presigned URL: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">send_email</span><span class="p">(</span><span class="n">to_email</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">SESë¥¼ í†µí•œ ì´ë©”ì¼ ë°œì†¡</span><span class="sh">"""</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">ses</span><span class="p">.</span><span class="nf">send_email</span><span class="p">(</span>
            <span class="n">Source</span><span class="o">=</span><span class="sh">'</span><span class="s">noreply@example.com</span><span class="sh">'</span><span class="p">,</span>
            <span class="n">Destination</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">ToAddresses</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="n">to_email</span><span class="p">]},</span>
            <span class="n">Message</span><span class="o">=</span><span class="p">{</span>
                <span class="sh">'</span><span class="s">Subject</span><span class="sh">'</span><span class="p">:</span> <span class="p">{</span><span class="sh">'</span><span class="s">Data</span><span class="sh">'</span><span class="p">:</span> <span class="n">subject</span><span class="p">},</span>
                <span class="sh">'</span><span class="s">Body</span><span class="sh">'</span><span class="p">:</span> <span class="p">{</span><span class="sh">'</span><span class="s">Text</span><span class="sh">'</span><span class="p">:</span> <span class="p">{</span><span class="sh">'</span><span class="s">Data</span><span class="sh">'</span><span class="p">:</span> <span class="n">body</span><span class="p">}}</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Email sent to </span><span class="si">{</span><span class="n">to_email</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Failed to send email: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>
</code></pre></div></div>

<h4 id="lambda-ë°°í¬-ìŠ¤í¬ë¦½íŠ¸">Lambda ë°°í¬ ìŠ¤í¬ë¦½íŠ¸</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># Lambda í•¨ìˆ˜ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸</span>

<span class="nv">FUNCTION_NAME</span><span class="o">=</span><span class="s2">"serverless-api-function"</span>
<span class="nv">ROLE_ARN</span><span class="o">=</span><span class="s2">"arn:aws:iam::123456789012:role/lambda-execution-role"</span>
<span class="nv">REGION</span><span class="o">=</span><span class="s2">"us-east-1"</span>

<span class="c"># ì˜ì¡´ì„± ì„¤ì¹˜ ë° íŒ¨í‚¤ì§•</span>
<span class="nb">echo</span> <span class="s2">"Lambda í•¨ìˆ˜ íŒ¨í‚¤ì§• ì¤‘..."</span>

<span class="c"># ì„ì‹œ ë””ë ‰í† ë¦¬ ìƒì„±</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> lambda-package
<span class="nb">cd </span>lambda-package

<span class="c"># í•¨ìˆ˜ ì½”ë“œ ë³µì‚¬</span>
<span class="nb">cp</span> ../lambda_function.py <span class="nb">.</span>

<span class="c"># requirements.txtê°€ ìˆë‹¤ë©´ ì˜ì¡´ì„± ì„¤ì¹˜</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"../requirements.txt"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span>pip <span class="nb">install</span> <span class="nt">-r</span> ../requirements.txt <span class="nt">-t</span> <span class="nb">.</span>
<span class="k">fi</span>

<span class="c"># íŒ¨í‚¤ì§€ ìƒì„±</span>
zip <span class="nt">-r</span> ../lambda-function.zip <span class="nb">.</span>

<span class="nb">cd</span> ..
<span class="nb">rm</span> <span class="nt">-rf</span> lambda-package

<span class="nb">echo</span> <span class="s2">"íŒ¨í‚¤ì§• ì™„ë£Œ: lambda-function.zip"</span>

<span class="c"># Lambda í•¨ìˆ˜ ì¡´ì¬ í™•ì¸</span>
<span class="k">if </span>aws lambda get-function <span class="nt">--function-name</span> <span class="nv">$FUNCTION_NAME</span> <span class="o">&gt;</span>/dev/null 2&gt;&amp;1<span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"ê¸°ì¡´ í•¨ìˆ˜ ì—…ë°ì´íŠ¸ ì¤‘..."</span>
    
    <span class="c"># í•¨ìˆ˜ ì½”ë“œ ì—…ë°ì´íŠ¸</span>
    aws lambda update-function-code <span class="se">\</span>
      <span class="nt">--function-name</span> <span class="nv">$FUNCTION_NAME</span> <span class="se">\</span>
      <span class="nt">--zip-file</span> fileb://lambda-function.zip
    
    <span class="c"># í•¨ìˆ˜ ì„¤ì • ì—…ë°ì´íŠ¸</span>
    aws lambda update-function-configuration <span class="se">\</span>
      <span class="nt">--function-name</span> <span class="nv">$FUNCTION_NAME</span> <span class="se">\</span>
      <span class="nt">--timeout</span> 30 <span class="se">\</span>
      <span class="nt">--memory-size</span> 256 <span class="se">\</span>
      <span class="nt">--environment</span> <span class="nv">Variables</span><span class="o">=</span><span class="s1">'{
        "DYNAMODB_TABLE":"serverless-api-table",
        "S3_BUCKET":"serverless-api-bucket",
        "SNS_TOPIC_ARN":"arn:aws:sns:us-east-1:123456789012:serverless-notifications"
      }'</span>
<span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"ìƒˆ Lambda í•¨ìˆ˜ ìƒì„± ì¤‘..."</span>
    
    <span class="c"># ìƒˆ í•¨ìˆ˜ ìƒì„±</span>
    aws lambda create-function <span class="se">\</span>
      <span class="nt">--function-name</span> <span class="nv">$FUNCTION_NAME</span> <span class="se">\</span>
      <span class="nt">--runtime</span> python3.9 <span class="se">\</span>
      <span class="nt">--role</span> <span class="nv">$ROLE_ARN</span> <span class="se">\</span>
      <span class="nt">--handler</span> lambda_function.lambda_handler <span class="se">\</span>
      <span class="nt">--zip-file</span> fileb://lambda-function.zip <span class="se">\</span>
      <span class="nt">--timeout</span> 30 <span class="se">\</span>
      <span class="nt">--memory-size</span> 256 <span class="se">\</span>
      <span class="nt">--environment</span> <span class="nv">Variables</span><span class="o">=</span><span class="s1">'{
        "DYNAMODB_TABLE":"serverless-api-table",
        "S3_BUCKET":"serverless-api-bucket", 
        "SNS_TOPIC_ARN":"arn:aws:sns:us-east-1:123456789012:serverless-notifications"
      }'</span> <span class="se">\</span>
      <span class="nt">--tags</span> <span class="nv">Environment</span><span class="o">=</span>Production,Project<span class="o">=</span>ServerlessAPI
<span class="k">fi</span>

<span class="c"># í•¨ìˆ˜ ë³„ì¹­ ìƒì„±/ì—…ë°ì´íŠ¸</span>
aws lambda publish-version <span class="nt">--function-name</span> <span class="nv">$FUNCTION_NAME</span>

<span class="c"># PROD ë³„ì¹­ ìƒì„± ë˜ëŠ” ì—…ë°ì´íŠ¸</span>
aws lambda update-alias <span class="se">\</span>
  <span class="nt">--function-name</span> <span class="nv">$FUNCTION_NAME</span> <span class="se">\</span>
  <span class="nt">--name</span> PROD <span class="se">\</span>
  <span class="nt">--function-version</span> <span class="s1">'$LATEST'</span> 2&gt;/dev/null <span class="o">||</span> <span class="se">\</span>
aws lambda create-alias <span class="se">\</span>
  <span class="nt">--function-name</span> <span class="nv">$FUNCTION_NAME</span> <span class="se">\</span>
  <span class="nt">--name</span> PROD <span class="se">\</span>
  <span class="nt">--function-version</span> <span class="s1">'$LATEST'</span>

<span class="nb">echo</span> <span class="s2">"Lambda í•¨ìˆ˜ ë°°í¬ ì™„ë£Œ!"</span>

<span class="c"># í•¨ìˆ˜ ì •ë³´ ì¶œë ¥</span>
aws lambda get-function <span class="nt">--function-name</span> <span class="nv">$FUNCTION_NAME</span> <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'Configuration.[FunctionName,Runtime,Timeout,MemorySize,LastModified]'</span> <span class="se">\</span>
  <span class="nt">--output</span> table

<span class="c"># ì •ë¦¬</span>
<span class="nb">rm</span> <span class="nt">-f</span> lambda-function.zip
</code></pre></div></div>

<h2 id="api-gateway-ì™„ì „-í†µí•©--complete-api-gateway-integration">API Gateway ì™„ì „ í†µí•© | Complete API Gateway Integration</h2>

<h3 id="-rest-api-êµ¬ì¶•">ğŸŒ REST API êµ¬ì¶•</h3>

<h4 id="api-gateway-ìƒì„±-ë°-ì„¤ì •">API Gateway ìƒì„± ë° ì„¤ì •</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># API Gateway ìƒì„± ìŠ¤í¬ë¦½íŠ¸</span>

<span class="nv">API_NAME</span><span class="o">=</span><span class="s2">"serverless-api"</span>
<span class="nv">LAMBDA_FUNCTION_ARN</span><span class="o">=</span><span class="s2">"arn:aws:lambda:us-east-1:123456789012:function:serverless-api-function"</span>
<span class="nv">REGION</span><span class="o">=</span><span class="s2">"us-east-1"</span>
<span class="nv">ACCOUNT_ID</span><span class="o">=</span><span class="s2">"123456789012"</span>

<span class="c"># REST API ìƒì„±</span>
<span class="nb">echo</span> <span class="s2">"REST API ìƒì„± ì¤‘..."</span>

<span class="nv">API_ID</span><span class="o">=</span><span class="si">$(</span>aws apigateway create-rest-api <span class="se">\</span>
  <span class="nt">--name</span> <span class="nv">$API_NAME</span> <span class="se">\</span>
  <span class="nt">--description</span> <span class="s2">"Serverless API with Lambda integration"</span> <span class="se">\</span>
  <span class="nt">--endpoint-configuration</span> <span class="nv">types</span><span class="o">=</span>REGIONAL <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'id'</span> <span class="se">\</span>
  <span class="nt">--output</span> text<span class="si">)</span>

<span class="nb">echo</span> <span class="s2">"API ìƒì„±ë¨: </span><span class="nv">$API_ID</span><span class="s2">"</span>

<span class="c"># ë£¨íŠ¸ ë¦¬ì†ŒìŠ¤ ID ê°€ì ¸ì˜¤ê¸°</span>
<span class="nv">ROOT_RESOURCE_ID</span><span class="o">=</span><span class="si">$(</span>aws apigateway get-resources <span class="se">\</span>
  <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'items[?path==`/`].id'</span> <span class="se">\</span>
  <span class="nt">--output</span> text<span class="si">)</span>

<span class="c"># /items ë¦¬ì†ŒìŠ¤ ìƒì„±</span>
<span class="nv">ITEMS_RESOURCE_ID</span><span class="o">=</span><span class="si">$(</span>aws apigateway create-resource <span class="se">\</span>
  <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
  <span class="nt">--parent-id</span> <span class="nv">$ROOT_RESOURCE_ID</span> <span class="se">\</span>
  <span class="nt">--path-part</span> items <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'id'</span> <span class="se">\</span>
  <span class="nt">--output</span> text<span class="si">)</span>

<span class="c"># /items/{id} ë¦¬ì†ŒìŠ¤ ìƒì„±</span>
<span class="nv">ITEM_RESOURCE_ID</span><span class="o">=</span><span class="si">$(</span>aws apigateway create-resource <span class="se">\</span>
  <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
  <span class="nt">--parent-id</span> <span class="nv">$ITEMS_RESOURCE_ID</span> <span class="se">\</span>
  <span class="nt">--path-part</span> <span class="s1">'{id}'</span> <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'id'</span> <span class="se">\</span>
  <span class="nt">--output</span> text<span class="si">)</span>

<span class="nb">echo</span> <span class="s2">"ë¦¬ì†ŒìŠ¤ ìƒì„± ì™„ë£Œ: /items, /items/{id}"</span>

<span class="c"># Lambda í†µí•©ì„ ìœ„í•œ ê³µí†µ í•¨ìˆ˜</span>
create_lambda_integration<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">resource_id</span><span class="o">=</span><span class="nv">$1</span>
    <span class="nb">local </span><span class="nv">http_method</span><span class="o">=</span><span class="nv">$2</span>
    
    <span class="c"># ë©”ì„œë“œ ìƒì„±</span>
    aws apigateway put-method <span class="se">\</span>
      <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
      <span class="nt">--resource-id</span> <span class="nv">$resource_id</span> <span class="se">\</span>
      <span class="nt">--http-method</span> <span class="nv">$http_method</span> <span class="se">\</span>
      <span class="nt">--authorization-type</span> NONE <span class="se">\</span>
      <span class="nt">--api-key-required</span>
    
    <span class="c"># Lambda í†µí•© ì„¤ì •</span>
    aws apigateway put-integration <span class="se">\</span>
      <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
      <span class="nt">--resource-id</span> <span class="nv">$resource_id</span> <span class="se">\</span>
      <span class="nt">--http-method</span> <span class="nv">$http_method</span> <span class="se">\</span>
      <span class="nt">--type</span> AWS_PROXY <span class="se">\</span>
      <span class="nt">--integration-http-method</span> POST <span class="se">\</span>
      <span class="nt">--uri</span> arn:aws:apigateway:<span class="nv">$REGION</span>:lambda:path/2015-03-31/functions/<span class="nv">$LAMBDA_FUNCTION_ARN</span>/invocations
    
    <span class="c"># Lambda ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬</span>
    aws lambda add-permission <span class="se">\</span>
      <span class="nt">--function-name</span> serverless-api-function <span class="se">\</span>
      <span class="nt">--statement-id</span> <span class="s2">"</span><span class="k">${</span><span class="nv">API_ID</span><span class="k">}</span><span class="s2">-</span><span class="k">${</span><span class="nv">resource_id</span><span class="k">}</span><span class="s2">-</span><span class="k">${</span><span class="nv">http_method</span><span class="k">}</span><span class="s2">"</span> <span class="se">\</span>
      <span class="nt">--action</span> lambda:InvokeFunction <span class="se">\</span>
      <span class="nt">--principal</span> apigateway.amazonaws.com <span class="se">\</span>
      <span class="nt">--source-arn</span> <span class="s2">"arn:aws:execute-api:</span><span class="nv">$REGION</span><span class="s2">:</span><span class="nv">$ACCOUNT_ID</span><span class="s2">:</span><span class="nv">$API_ID</span><span class="s2">/*/</span><span class="nv">$http_method</span><span class="s2">/*"</span> 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>
<span class="o">}</span>

<span class="c"># CORS ì˜µì…˜ ë©”ì„œë“œ ì¶”ê°€</span>
add_cors_options<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">resource_id</span><span class="o">=</span><span class="nv">$1</span>
    
    <span class="c"># OPTIONS ë©”ì„œë“œ ìƒì„±</span>
    aws apigateway put-method <span class="se">\</span>
      <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
      <span class="nt">--resource-id</span> <span class="nv">$resource_id</span> <span class="se">\</span>
      <span class="nt">--http-method</span> OPTIONS <span class="se">\</span>
      <span class="nt">--authorization-type</span> NONE
    
    <span class="c"># Mock í†µí•© ì„¤ì •</span>
    aws apigateway put-integration <span class="se">\</span>
      <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
      <span class="nt">--resource-id</span> <span class="nv">$resource_id</span> <span class="se">\</span>
      <span class="nt">--http-method</span> OPTIONS <span class="se">\</span>
      <span class="nt">--type</span> MOCK <span class="se">\</span>
      <span class="nt">--request-templates</span> <span class="s1">'{"application/json": "{\"statusCode\": 200}"}'</span>
    
    <span class="c"># ë©”ì„œë“œ ì‘ë‹µ ì„¤ì •</span>
    aws apigateway put-method-response <span class="se">\</span>
      <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
      <span class="nt">--resource-id</span> <span class="nv">$resource_id</span> <span class="se">\</span>
      <span class="nt">--http-method</span> OPTIONS <span class="se">\</span>
      <span class="nt">--status-code</span> 200 <span class="se">\</span>
      <span class="nt">--response-parameters</span> method.response.header.Access-Control-Allow-Headers<span class="o">=</span><span class="nb">false</span>,method.response.header.Access-Control-Allow-Methods<span class="o">=</span><span class="nb">false</span>,method.response.header.Access-Control-Allow-Origin<span class="o">=</span><span class="nb">false</span>
    
    <span class="c"># í†µí•© ì‘ë‹µ ì„¤ì •</span>
    aws apigateway put-integration-response <span class="se">\</span>
      <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
      <span class="nt">--resource-id</span> <span class="nv">$resource_id</span> <span class="se">\</span>
      <span class="nt">--http-method</span> OPTIONS <span class="se">\</span>
      <span class="nt">--status-code</span> 200 <span class="se">\</span>
      <span class="nt">--response-parameters</span> <span class="s1">'{"method.response.header.Access-Control-Allow-Headers":"'</span><span class="s2">"'"</span><span class="s1">'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'</span><span class="s2">"'"</span><span class="s1">'","method.response.header.Access-Control-Allow-Methods":"'</span><span class="s2">"'"</span><span class="s1">'GET,POST,PUT,DELETE,OPTIONS'</span><span class="s2">"'"</span><span class="s1">'","method.response.header.Access-Control-Allow-Origin":"'</span><span class="s2">"'"</span><span class="s1">'*'</span><span class="s2">"'"</span><span class="s1">'}'</span>
<span class="o">}</span>

<span class="c"># /items ë¦¬ì†ŒìŠ¤ì— ë©”ì„œë“œ ì¶”ê°€</span>
<span class="nb">echo</span> <span class="s2">"API ë©”ì„œë“œ ìƒì„± ì¤‘..."</span>

<span class="c"># GET /items (ëª©ë¡ ì¡°íšŒ)</span>
create_lambda_integration <span class="nv">$ITEMS_RESOURCE_ID</span> GET

<span class="c"># POST /items (ìƒˆ ì•„ì´í…œ ìƒì„±)</span>
create_lambda_integration <span class="nv">$ITEMS_RESOURCE_ID</span> POST

<span class="c"># CORS ì˜µì…˜ ì¶”ê°€</span>
add_cors_options <span class="nv">$ITEMS_RESOURCE_ID</span>

<span class="c"># /items/{id} ë¦¬ì†ŒìŠ¤ì— ë©”ì„œë“œ ì¶”ê°€</span>

<span class="c"># GET /items/{id} (ë‹¨ì¼ ì•„ì´í…œ ì¡°íšŒ)</span>
create_lambda_integration <span class="nv">$ITEM_RESOURCE_ID</span> GET

<span class="c"># PUT /items/{id} (ì•„ì´í…œ ì—…ë°ì´íŠ¸)</span>
create_lambda_integration <span class="nv">$ITEM_RESOURCE_ID</span> PUT

<span class="c"># DELETE /items/{id} (ì•„ì´í…œ ì‚­ì œ)</span>
create_lambda_integration <span class="nv">$ITEM_RESOURCE_ID</span> DELETE

<span class="c"># CORS ì˜µì…˜ ì¶”ê°€</span>
add_cors_options <span class="nv">$ITEM_RESOURCE_ID</span>

<span class="c"># API í‚¤ ìƒì„±</span>
<span class="nv">API_KEY_ID</span><span class="o">=</span><span class="si">$(</span>aws apigateway create-api-key <span class="se">\</span>
  <span class="nt">--name</span> <span class="s2">"</span><span class="k">${</span><span class="nv">API_NAME</span><span class="k">}</span><span class="s2">-key"</span> <span class="se">\</span>
  <span class="nt">--description</span> <span class="s2">"API key for serverless API"</span> <span class="se">\</span>
  <span class="nt">--enabled</span> <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'id'</span> <span class="se">\</span>
  <span class="nt">--output</span> text<span class="si">)</span>

<span class="nv">API_KEY_VALUE</span><span class="o">=</span><span class="si">$(</span>aws apigateway get-api-key <span class="se">\</span>
  <span class="nt">--api-key</span> <span class="nv">$API_KEY_ID</span> <span class="se">\</span>
  <span class="nt">--include-value</span> <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'value'</span> <span class="se">\</span>
  <span class="nt">--output</span> text<span class="si">)</span>

<span class="nb">echo</span> <span class="s2">"API í‚¤ ìƒì„±ë¨: </span><span class="nv">$API_KEY_VALUE</span><span class="s2">"</span>

<span class="c"># ì‚¬ìš©ëŸ‰ ê³„íš ìƒì„±</span>
<span class="nv">USAGE_PLAN_ID</span><span class="o">=</span><span class="si">$(</span>aws apigateway create-usage-plan <span class="se">\</span>
  <span class="nt">--name</span> <span class="s2">"</span><span class="k">${</span><span class="nv">API_NAME</span><span class="k">}</span><span class="s2">-usage-plan"</span> <span class="se">\</span>
  <span class="nt">--description</span> <span class="s2">"Usage plan for serverless API"</span> <span class="se">\</span>
  <span class="nt">--throttle</span> <span class="nv">burstLimit</span><span class="o">=</span>200,rateLimit<span class="o">=</span>100 <span class="se">\</span>
  <span class="nt">--quota</span> <span class="nv">limit</span><span class="o">=</span>10000,period<span class="o">=</span>MONTH <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'id'</span> <span class="se">\</span>
  <span class="nt">--output</span> text<span class="si">)</span>

<span class="c"># API í‚¤ë¥¼ ì‚¬ìš©ëŸ‰ ê³„íšì— ì—°ê²°</span>
aws apigateway create-usage-plan-key <span class="se">\</span>
  <span class="nt">--usage-plan-id</span> <span class="nv">$USAGE_PLAN_ID</span> <span class="se">\</span>
  <span class="nt">--key-id</span> <span class="nv">$API_KEY_ID</span> <span class="se">\</span>
  <span class="nt">--key-type</span> API_KEY

<span class="c"># ë°°í¬ ìŠ¤í…Œì´ì§€ ìƒì„±</span>
<span class="nv">DEPLOYMENT_ID</span><span class="o">=</span><span class="si">$(</span>aws apigateway create-deployment <span class="se">\</span>
  <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
  <span class="nt">--stage-name</span> prod <span class="se">\</span>
  <span class="nt">--stage-description</span> <span class="s2">"Production stage"</span> <span class="se">\</span>
  <span class="nt">--description</span> <span class="s2">"Production deployment"</span> <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'id'</span> <span class="se">\</span>
  <span class="nt">--output</span> text<span class="si">)</span>

<span class="c"># ì‚¬ìš©ëŸ‰ ê³„íšì— API ìŠ¤í…Œì´ì§€ ì¶”ê°€</span>
aws apigateway update-usage-plan <span class="se">\</span>
  <span class="nt">--usage-plan-id</span> <span class="nv">$USAGE_PLAN_ID</span> <span class="se">\</span>
  <span class="nt">--patch-ops</span> <span class="nv">op</span><span class="o">=</span>add,path<span class="o">=</span><span class="s2">"/apiStages"</span>,value<span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">API_ID</span><span class="k">}</span><span class="s2">:prod"</span>

<span class="c"># CloudWatch ë¡œê¹… í™œì„±í™”</span>
aws apigateway update-stage <span class="se">\</span>
  <span class="nt">--rest-api-id</span> <span class="nv">$API_ID</span> <span class="se">\</span>
  <span class="nt">--stage-name</span> prod <span class="se">\</span>
  <span class="nt">--patch-ops</span> <span class="nv">op</span><span class="o">=</span>replace,path<span class="o">=</span><span class="s2">"/*/logging/loglevel"</span>,value<span class="o">=</span>INFO <span class="se">\</span>
             <span class="nv">op</span><span class="o">=</span>replace,path<span class="o">=</span><span class="s2">"/*/logging/dataTrace"</span>,value<span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
             <span class="nv">op</span><span class="o">=</span>replace,path<span class="o">=</span><span class="s2">"/*/metrics/enabled"</span>,value<span class="o">=</span><span class="nb">true

echo</span> <span class="s2">"=== API Gateway ì„¤ì • ì™„ë£Œ ==="</span>
<span class="nb">echo</span> <span class="s2">"API ID: </span><span class="nv">$API_ID</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"API URL: https://</span><span class="nv">$API_ID</span><span class="s2">.execute-api.</span><span class="nv">$REGION</span><span class="s2">.amazonaws.com/prod"</span>
<span class="nb">echo</span> <span class="s2">"API Key: </span><span class="nv">$API_KEY_VALUE</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">""</span>
<span class="nb">echo</span> <span class="s2">"ì‚¬ìš© ì˜ˆì‹œ:"</span>
<span class="nb">echo</span> <span class="s2">"curl -H 'X-API-Key: </span><span class="nv">$API_KEY_VALUE</span><span class="s2">' https://</span><span class="nv">$API_ID</span><span class="s2">.execute-api.</span><span class="nv">$REGION</span><span class="s2">.amazonaws.com/prod/items"</span>
</code></pre></div></div>

<h2 id="dynamodb-nosql-ë°ì´í„°ë² ì´ìŠ¤--dynamodb-nosql-database">DynamoDB NoSQL ë°ì´í„°ë² ì´ìŠ¤ | DynamoDB NoSQL Database</h2>

<h3 id="-dynamodb-ì„¤ê³„-ë°-ìµœì í™”">ğŸ“Š DynamoDB ì„¤ê³„ ë° ìµœì í™”</h3>

<h4 id="dynamodb-í…Œì´ë¸”-ìƒì„±-ë°-ì„¤ì •">DynamoDB í…Œì´ë¸” ìƒì„± ë° ì„¤ì •</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># DynamoDB í…Œì´ë¸” ìƒì„± ë° ì„¤ì • ìŠ¤í¬ë¦½íŠ¸</span>

<span class="nv">TABLE_NAME</span><span class="o">=</span><span class="s2">"serverless-api-table"</span>
<span class="nv">REGION</span><span class="o">=</span><span class="s2">"us-east-1"</span>

<span class="c"># DynamoDB í…Œì´ë¸” ìƒì„±</span>
<span class="nb">echo</span> <span class="s2">"DynamoDB í…Œì´ë¸” ìƒì„± ì¤‘..."</span>

aws dynamodb create-table <span class="se">\</span>
  <span class="nt">--table-name</span> <span class="nv">$TABLE_NAME</span> <span class="se">\</span>
  <span class="nt">--attribute-definitions</span> <span class="se">\</span>
    <span class="nv">AttributeName</span><span class="o">=</span><span class="nb">id</span>,AttributeType<span class="o">=</span>S <span class="se">\</span>
    <span class="nv">AttributeName</span><span class="o">=</span>created_at,AttributeType<span class="o">=</span>S <span class="se">\</span>
    <span class="nv">AttributeName</span><span class="o">=</span>status,AttributeType<span class="o">=</span>S <span class="se">\</span>
    <span class="nv">AttributeName</span><span class="o">=</span>email,AttributeType<span class="o">=</span>S <span class="se">\</span>
  <span class="nt">--key-schema</span> <span class="se">\</span>
    <span class="nv">AttributeName</span><span class="o">=</span><span class="nb">id</span>,KeyType<span class="o">=</span>HASH <span class="se">\</span>
  <span class="nt">--billing-mode</span> PAY_PER_REQUEST <span class="se">\</span>
  <span class="nt">--global-secondary-indexes</span> <span class="se">\</span>
    <span class="nv">IndexName</span><span class="o">=</span>CreatedAtIndex,KeySchema<span class="o">=[{</span><span class="nv">AttributeName</span><span class="o">=</span>status,KeyType<span class="o">=</span>HASH<span class="o">}</span>,<span class="o">{</span><span class="nv">AttributeName</span><span class="o">=</span>created_at,KeyType<span class="o">=</span>RANGE<span class="o">}]</span>,Projection<span class="o">=</span><span class="s1">'{ProjectionType=ALL}'</span>,ProvisionedThroughput<span class="o">=</span><span class="s1">'{ReadCapacityUnits=5,WriteCapacityUnits=5}'</span> <span class="se">\</span>
    <span class="nv">IndexName</span><span class="o">=</span>EmailIndex,KeySchema<span class="o">=[{</span><span class="nv">AttributeName</span><span class="o">=</span>email,KeyType<span class="o">=</span>HASH<span class="o">}]</span>,Projection<span class="o">=</span><span class="s1">'{ProjectionType=ALL}'</span>,ProvisionedThroughput<span class="o">=</span><span class="s1">'{ReadCapacityUnits=5,WriteCapacityUnits=5}'</span> <span class="se">\</span>
  <span class="nt">--stream-specification</span> <span class="nv">StreamEnabled</span><span class="o">=</span><span class="nb">true</span>,StreamViewType<span class="o">=</span>NEW_AND_OLD_IMAGES <span class="se">\</span>
  <span class="nt">--tags</span> <span class="nv">Key</span><span class="o">=</span>Environment,Value<span class="o">=</span>Production <span class="nv">Key</span><span class="o">=</span>Project,Value<span class="o">=</span>ServerlessAPI

<span class="nb">echo</span> <span class="s2">"í…Œì´ë¸” ìƒì„± ì¤‘... ì™„ë£Œê¹Œì§€ ì ì‹œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”."</span>

<span class="c"># í…Œì´ë¸” ìƒì„± ì™„ë£Œ ëŒ€ê¸°</span>
aws dynamodb <span class="nb">wait </span>table-exists <span class="nt">--table-name</span> <span class="nv">$TABLE_NAME</span>

<span class="nb">echo</span> <span class="s2">"DynamoDB í…Œì´ë¸” ìƒì„± ì™„ë£Œ: </span><span class="nv">$TABLE_NAME</span><span class="s2">"</span>

<span class="c"># Point-in-Time Recovery í™œì„±í™”</span>
aws dynamodb update-continuous-backups <span class="se">\</span>
  <span class="nt">--table-name</span> <span class="nv">$TABLE_NAME</span> <span class="se">\</span>
  <span class="nt">--point-in-time-recovery-specification</span> <span class="nv">PointInTimeRecoveryEnabled</span><span class="o">=</span><span class="nb">true

echo</span> <span class="s2">"Point-in-Time Recovery í™œì„±í™” ì™„ë£Œ"</span>

<span class="c"># í…Œì´ë¸” ì •ë³´ ì¶œë ¥</span>
aws dynamodb describe-table <span class="nt">--table-name</span> <span class="nv">$TABLE_NAME</span> <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'Table.[TableName,TableStatus,ItemCount,TableSizeBytes]'</span> <span class="se">\</span>
  <span class="nt">--output</span> table

<span class="c"># DynamoDB ìŠ¤íŠ¸ë¦¼ì„ ìœ„í•œ Lambda í•¨ìˆ˜ ìƒì„±</span>
<span class="nb">cat</span> <span class="o">&gt;</span> stream_processor.py <span class="o">&lt;&lt;</span> <span class="sh">'</span><span class="no">EOF</span><span class="sh">'
import json
import boto3
import logging
from datetime import datetime

logger = logging.getLogger()
logger.setLevel(logging.INFO)

def lambda_handler(event, context):
    """DynamoDB ìŠ¤íŠ¸ë¦¼ ì´ë²¤íŠ¸ ì²˜ë¦¬"""
    
    for record in event['Records']:
        event_name = record['eventName']
        
        if event_name == 'INSERT':
            handle_insert(record)
        elif event_name == 'MODIFY':
            handle_modify(record)
        elif event_name == 'REMOVE':
            handle_remove(record)
    
    return {'statusCode': 200}

def handle_insert(record):
    """ìƒˆ ë ˆì½”ë“œ ì‚½ì… ì²˜ë¦¬"""
    new_image = record['dynamodb']['NewImage']
    
    logger.info(f"New item created: {new_image}")
    
    # ì—¬ê¸°ì— ì¶”ê°€ ì²˜ë¦¬ ë¡œì§ êµ¬í˜„
    # ì˜ˆ: ì•Œë¦¼ ë°œì†¡, ê²€ìƒ‰ ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸ ë“±

def handle_modify(record):
    """ë ˆì½”ë“œ ìˆ˜ì • ì²˜ë¦¬"""
    old_image = record['dynamodb'].get('OldImage', {})
    new_image = record['dynamodb']['NewImage']
    
    logger.info(f"Item modified: {old_image} -&gt; {new_image}")

def handle_remove(record):
    """ë ˆì½”ë“œ ì‚­ì œ ì²˜ë¦¬"""
    old_image = record['dynamodb']['OldImage']
    
    logger.info(f"Item removed: {old_image}")
</span><span class="no">EOF

</span><span class="c"># ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ Lambda í•¨ìˆ˜ ë°°í¬</span>
zip stream_processor.zip stream_processor.py

aws lambda create-function <span class="se">\</span>
  <span class="nt">--function-name</span> dynamodb-stream-processor <span class="se">\</span>
  <span class="nt">--runtime</span> python3.9 <span class="se">\</span>
  <span class="nt">--role</span> arn:aws:iam::123456789012:role/lambda-execution-role <span class="se">\</span>
  <span class="nt">--handler</span> stream_processor.lambda_handler <span class="se">\</span>
  <span class="nt">--zip-file</span> fileb://stream_processor.zip <span class="se">\</span>
  <span class="nt">--timeout</span> 60 <span class="se">\</span>
  <span class="nt">--memory-size</span> 128

<span class="c"># DynamoDB ìŠ¤íŠ¸ë¦¼ ARN ê°€ì ¸ì˜¤ê¸°</span>
<span class="nv">STREAM_ARN</span><span class="o">=</span><span class="si">$(</span>aws dynamodb describe-table <span class="se">\</span>
  <span class="nt">--table-name</span> <span class="nv">$TABLE_NAME</span> <span class="se">\</span>
  <span class="nt">--query</span> <span class="s1">'Table.LatestStreamArn'</span> <span class="se">\</span>
  <span class="nt">--output</span> text<span class="si">)</span>

<span class="c"># ì´ë²¤íŠ¸ ì†ŒìŠ¤ ë§¤í•‘ ìƒì„±</span>
aws lambda create-event-source-mapping <span class="se">\</span>
  <span class="nt">--event-source-arn</span> <span class="nv">$STREAM_ARN</span> <span class="se">\</span>
  <span class="nt">--function-name</span> dynamodb-stream-processor <span class="se">\</span>
  <span class="nt">--starting-position</span> LATEST <span class="se">\</span>
  <span class="nt">--batch-size</span> 10

<span class="nb">echo</span> <span class="s2">"DynamoDB ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ì„¤ì • ì™„ë£Œ"</span>

<span class="c"># ì •ë¦¬</span>
<span class="nb">rm</span> <span class="nt">-f</span> stream_processor.py stream_processor.zip
</code></pre></div></div>

<h4 id="dynamodb-ê³ ê¸‰-ì¿¼ë¦¬-ì˜ˆì œ">DynamoDB ê³ ê¸‰ ì¿¼ë¦¬ ì˜ˆì œ</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># advanced_dynamodb_operations.py
# DynamoDB ê³ ê¸‰ ì‘ì—… ì˜ˆì œ
</span>
<span class="kn">import</span> <span class="n">boto3</span>
<span class="kn">from</span> <span class="n">boto3.dynamodb.conditions</span> <span class="kn">import</span> <span class="n">Key</span><span class="p">,</span> <span class="n">Attr</span>
<span class="kn">from</span> <span class="n">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<span class="kn">import</span> <span class="n">json</span>

<span class="n">dynamodb</span> <span class="o">=</span> <span class="n">boto3</span><span class="p">.</span><span class="nf">resource</span><span class="p">(</span><span class="sh">'</span><span class="s">dynamodb</span><span class="sh">'</span><span class="p">)</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">dynamodb</span><span class="p">.</span><span class="nc">Table</span><span class="p">(</span><span class="sh">'</span><span class="s">serverless-api-table</span><span class="sh">'</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">DynamoDBOperations</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">dynamodb</span><span class="p">.</span><span class="nc">Table</span><span class="p">(</span><span class="n">table_name</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">batch_write_items</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ë°°ì¹˜ë¡œ ì•„ì´í…œ ì‘ì„±</span><span class="sh">"""</span>
        <span class="k">with</span> <span class="n">self</span><span class="p">.</span><span class="n">table</span><span class="p">.</span><span class="nf">batch_writer</span><span class="p">()</span> <span class="k">as</span> <span class="n">batch</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
                <span class="n">batch</span><span class="p">.</span><span class="nf">put_item</span><span class="p">(</span><span class="n">Item</span><span class="o">=</span><span class="n">item</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">query_by_status_and_date</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ìƒíƒœì™€ ìƒì„±ì¼ìë¡œ ì¿¼ë¦¬</span><span class="sh">"""</span>
        <span class="n">key_condition</span> <span class="o">=</span> <span class="nc">Key</span><span class="p">(</span><span class="sh">'</span><span class="s">status</span><span class="sh">'</span><span class="p">).</span><span class="nf">eq</span><span class="p">(</span><span class="n">status</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nc">Key</span><span class="p">(</span><span class="sh">'</span><span class="s">created_at</span><span class="sh">'</span><span class="p">).</span><span class="nf">gte</span><span class="p">(</span><span class="n">start_date</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">end_date</span><span class="p">:</span>
            <span class="n">key_condition</span> <span class="o">=</span> <span class="n">key_condition</span> <span class="o">&amp;</span> <span class="nc">Key</span><span class="p">(</span><span class="sh">'</span><span class="s">created_at</span><span class="sh">'</span><span class="p">).</span><span class="nf">lte</span><span class="p">(</span><span class="n">end_date</span><span class="p">)</span>
        
        <span class="n">response</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">table</span><span class="p">.</span><span class="nf">query</span><span class="p">(</span>
            <span class="n">IndexName</span><span class="o">=</span><span class="sh">'</span><span class="s">CreatedAtIndex</span><span class="sh">'</span><span class="p">,</span>
            <span class="n">KeyConditionExpression</span><span class="o">=</span><span class="n">key_condition</span><span class="p">,</span>
            <span class="n">ScanIndexForward</span><span class="o">=</span><span class="bp">False</span>  <span class="c1"># ìµœì‹ ìˆœ ì •ë ¬
</span>        <span class="p">)</span>
        
        <span class="k">return</span> <span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">Items</span><span class="sh">'</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">scan_with_filter</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">filter_expression</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">í•„í„° ì¡°ê±´ìœ¼ë¡œ ìŠ¤ìº”</span><span class="sh">"""</span>
        <span class="n">scan_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">FilterExpression</span><span class="sh">'</span><span class="p">:</span> <span class="n">filter_expression</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="n">limit</span><span class="p">:</span>
            <span class="n">scan_kwargs</span><span class="p">[</span><span class="sh">'</span><span class="s">Limit</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="n">limit</span>
        
        <span class="n">response</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">table</span><span class="p">.</span><span class="nf">scan</span><span class="p">(</span><span class="o">**</span><span class="n">scan_kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">Items</span><span class="sh">'</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">update_item_conditionally</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">updates</span><span class="p">,</span> <span class="n">condition</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ì¡°ê±´ë¶€ ì—…ë°ì´íŠ¸</span><span class="sh">"""</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">update_expression</span> <span class="o">=</span> <span class="sh">"</span><span class="s">SET </span><span class="sh">"</span>
            <span class="n">expression_values</span> <span class="o">=</span> <span class="p">{}</span>
            
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updates</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
                <span class="n">update_expression</span> <span class="o">+=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s"> = :</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">, </span><span class="sh">"</span>
                <span class="n">expression_values</span><span class="p">[</span><span class="sa">f</span><span class="sh">"</span><span class="s">:</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="sh">"</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            
            <span class="n">update_expression</span> <span class="o">=</span> <span class="n">update_expression</span><span class="p">.</span><span class="nf">rstrip</span><span class="p">(</span><span class="sh">"</span><span class="s">, </span><span class="sh">"</span><span class="p">)</span>
            
            <span class="n">response</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">table</span><span class="p">.</span><span class="nf">update_item</span><span class="p">(</span>
                <span class="n">Key</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="n">item_id</span><span class="p">},</span>
                <span class="n">UpdateExpression</span><span class="o">=</span><span class="n">update_expression</span><span class="p">,</span>
                <span class="n">ExpressionAttributeValues</span><span class="o">=</span><span class="n">expression_values</span><span class="p">,</span>
                <span class="n">ConditionExpression</span><span class="o">=</span><span class="n">condition</span><span class="p">,</span>
                <span class="n">ReturnValues</span><span class="o">=</span><span class="sh">'</span><span class="s">ALL_NEW</span><span class="sh">'</span>
            <span class="p">)</span>
            
            <span class="k">return</span> <span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">Attributes</span><span class="sh">'</span><span class="p">]</span>
            
        <span class="k">except</span> <span class="n">ClientError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">e</span><span class="p">.</span><span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">Error</span><span class="sh">'</span><span class="p">][</span><span class="sh">'</span><span class="s">Code</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">ConditionalCheckFailedException</span><span class="sh">'</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ì¡°ê±´ë¶€ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨: ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•ŠìŒ</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">raise</span>
    
    <span class="k">def</span> <span class="nf">paginated_scan</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">í˜ì´ì§€ë„¤ì´ì…˜ì„ í†µí•œ ìŠ¤ìº”</span><span class="sh">"""</span>
        <span class="n">scan_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">Limit</span><span class="sh">'</span><span class="p">:</span> <span class="n">page_size</span>
        <span class="p">}</span>
        
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">table</span><span class="p">.</span><span class="nf">scan</span><span class="p">(</span><span class="o">**</span><span class="n">scan_kwargs</span><span class="p">)</span>
            
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">Items</span><span class="sh">'</span><span class="p">]:</span>
                <span class="k">yield</span> <span class="n">item</span>
            
            <span class="k">if</span> <span class="sh">'</span><span class="s">LastEvaluatedKey</span><span class="sh">'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
                <span class="k">break</span>
            
            <span class="n">scan_kwargs</span><span class="p">[</span><span class="sh">'</span><span class="s">ExclusiveStartKey</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">LastEvaluatedKey</span><span class="sh">'</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">get_item_with_projection</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">attributes</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">íŠ¹ì • ì†ì„±ë§Œ ì¡°íšŒ</span><span class="sh">"""</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">table</span><span class="p">.</span><span class="nf">get_item</span><span class="p">(</span>
            <span class="n">Key</span><span class="o">=</span><span class="p">{</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="n">item_id</span><span class="p">},</span>
            <span class="n">ProjectionExpression</span><span class="o">=</span><span class="sh">'</span><span class="s">,</span><span class="sh">'</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">attributes</span><span class="p">)</span>
        <span class="p">)</span>
        
        <span class="k">return</span> <span class="n">response</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">Item</span><span class="sh">'</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">transaction_write</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">operations</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">íŠ¸ëœì­ì…˜ ì“°ê¸°</span><span class="sh">"""</span>
        <span class="n">transact_items</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">operations</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">op</span><span class="p">[</span><span class="sh">'</span><span class="s">action</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">put</span><span class="sh">'</span><span class="p">:</span>
                <span class="n">transact_items</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
                    <span class="sh">'</span><span class="s">Put</span><span class="sh">'</span><span class="p">:</span> <span class="p">{</span>
                        <span class="sh">'</span><span class="s">TableName</span><span class="sh">'</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">table</span><span class="p">.</span><span class="n">table_name</span><span class="p">,</span>
                        <span class="sh">'</span><span class="s">Item</span><span class="sh">'</span><span class="p">:</span> <span class="n">op</span><span class="p">[</span><span class="sh">'</span><span class="s">item</span><span class="sh">'</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">})</span>
            <span class="k">elif</span> <span class="n">op</span><span class="p">[</span><span class="sh">'</span><span class="s">action</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">update</span><span class="sh">'</span><span class="p">:</span>
                <span class="n">transact_items</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
                    <span class="sh">'</span><span class="s">Update</span><span class="sh">'</span><span class="p">:</span> <span class="p">{</span>
                        <span class="sh">'</span><span class="s">TableName</span><span class="sh">'</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">table</span><span class="p">.</span><span class="n">table_name</span><span class="p">,</span>
                        <span class="sh">'</span><span class="s">Key</span><span class="sh">'</span><span class="p">:</span> <span class="n">op</span><span class="p">[</span><span class="sh">'</span><span class="s">key</span><span class="sh">'</span><span class="p">],</span>
                        <span class="sh">'</span><span class="s">UpdateExpression</span><span class="sh">'</span><span class="p">:</span> <span class="n">op</span><span class="p">[</span><span class="sh">'</span><span class="s">update_expression</span><span class="sh">'</span><span class="p">],</span>
                        <span class="sh">'</span><span class="s">ExpressionAttributeValues</span><span class="sh">'</span><span class="p">:</span> <span class="n">op</span><span class="p">[</span><span class="sh">'</span><span class="s">expression_values</span><span class="sh">'</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">})</span>
            <span class="k">elif</span> <span class="n">op</span><span class="p">[</span><span class="sh">'</span><span class="s">action</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">delete</span><span class="sh">'</span><span class="p">:</span>
                <span class="n">transact_items</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
                    <span class="sh">'</span><span class="s">Delete</span><span class="sh">'</span><span class="p">:</span> <span class="p">{</span>
                        <span class="sh">'</span><span class="s">TableName</span><span class="sh">'</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">table</span><span class="p">.</span><span class="n">table_name</span><span class="p">,</span>
                        <span class="sh">'</span><span class="s">Key</span><span class="sh">'</span><span class="p">:</span> <span class="n">op</span><span class="p">[</span><span class="sh">'</span><span class="s">key</span><span class="sh">'</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">})</span>
        
        <span class="n">dynamodb</span><span class="p">.</span><span class="n">meta</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="nf">transact_write_items</span><span class="p">(</span>
            <span class="n">TransactItems</span><span class="o">=</span><span class="n">transact_items</span>
        <span class="p">)</span>

<span class="c1"># ì‚¬ìš© ì˜ˆì œ
</span><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">db_ops</span> <span class="o">=</span> <span class="nc">DynamoDBOperations</span><span class="p">(</span><span class="sh">'</span><span class="s">serverless-api-table</span><span class="sh">'</span><span class="p">)</span>
    
    <span class="c1"># ë°°ì¹˜ ì‘ì„± ì˜ˆì œ
</span>    <span class="n">sample_items</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">item1</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Sample Item 1</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">status</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">active</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">created_at</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">2024-03-25T10:00:00Z</span><span class="sh">'</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">item2</span><span class="sh">'</span><span class="p">,</span> 
            <span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Sample Item 2</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">status</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">inactive</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">created_at</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">2024-03-25T11:00:00Z</span><span class="sh">'</span>
        <span class="p">}</span>
    <span class="p">]</span>
    
    <span class="n">db_ops</span><span class="p">.</span><span class="nf">batch_write_items</span><span class="p">(</span><span class="n">sample_items</span><span class="p">)</span>
    
    <span class="c1"># ì¿¼ë¦¬ ì˜ˆì œ
</span>    <span class="n">active_items</span> <span class="o">=</span> <span class="n">db_ops</span><span class="p">.</span><span class="nf">query_by_status_and_date</span><span class="p">(</span><span class="sh">'</span><span class="s">active</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">2024-03-25T00:00:00Z</span><span class="sh">'</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Active items: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">active_items</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># í•„í„°ë§ ìŠ¤ìº” ì˜ˆì œ
</span>    <span class="n">filtered_items</span> <span class="o">=</span> <span class="n">db_ops</span><span class="p">.</span><span class="nf">scan_with_filter</span><span class="p">(</span>
        <span class="nc">Attr</span><span class="p">(</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">).</span><span class="nf">contains</span><span class="p">(</span><span class="sh">'</span><span class="s">Sample</span><span class="sh">'</span><span class="p">),</span>
        <span class="n">limit</span><span class="o">=</span><span class="mi">10</span>
    <span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Filtered items: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">filtered_items</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="ë‹¤ìŒ-í¸-ì˜ˆê³ ">ë‹¤ìŒ í¸ ì˜ˆê³ </h2>

<p>ë‹¤ìŒ í¬ìŠ¤íŠ¸ì—ì„œëŠ” <strong>CloudFormation Infrastructure as Codeì™€ CI/CD íŒŒì´í”„ë¼ì¸</strong>ì„ ìƒì„¸íˆ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤:</p>
<ul>
  <li>CloudFormation í…œí”Œë¦¿ ì™„ì „ ë§ˆìŠ¤í„°</li>
  <li>SAM(Serverless Application Model) í™œìš©</li>
  <li>CodePipelineìœ¼ë¡œ ìë™ ë°°í¬ êµ¬ì¶•</li>
  <li>ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ì™„ì „ ì„¤ì •</li>
</ul>

<p>AWS ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ë¥¼ ì™„ì „íˆ ë§ˆìŠ¤í„°í•˜ì…¨ë‚˜ìš”? âš¡ğŸš€</p>

  </div>

  <footer class="post-footer">
    <div class="post-navigation"><div class="nav-previous">
        <a href="/infra-blog/blog/2024/03/24/aws-core-services-ec2-vpc-s3-rds.html" rel="prev">
          <i class="icon-left-arrow"></i>
          <span class="nav-title">AWS ì™„ì „ ì •ë³µ ê°€ì´ë“œ 2í¸ - í•µì‹¬ ì„œë¹„ìŠ¤ ì‹¤ìŠµê³¼ EC2 ë§ˆìŠ¤í„° | AWS Com...</span>
        </a>
      </div><div class="nav-next">
        <a href="/infra-blog/blog/2024/03/26/aws-cloudformation-iac-cicd.html" rel="next">
          <span class="nav-title">AWS ì™„ì „ ì •ë³µ ê°€ì´ë“œ 4í¸ - CloudFormation IaCì™€ CI/CD íŒŒì´...</span>
          <i class="icon-right-arrow"></i>
        </a>
      </div></div>
  </footer>
  </article></div>

    </section>
    <footer class="condensed">
      <ul class="social about-footer condensed"><a href="https://github.com/leeyonghe" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://www.linkedin.com/in/lee-yong-hee-18912454/" target="_blank">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><!----></ul><p class="about-footer condensed">&copy;
        2025</p><div class="about-footer condensed">
        <p>Dark Mode
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" class="dark-mode-toggle">
            <span class="slider round" onclick="toggleDarkMode()"></span>
          </label>
        </p>
      </div>
    </footer>
  </main>
  
  <script type="text/javascript" src="/infra-blog/assets/js/darkmode.js"></script>
  
  <script src="/infra-blog/assets/js/simple-jekyll-search.min.js"></script>
  <script src="/infra-blog/assets/js/search.js"></script>
  
</body>

</html>
